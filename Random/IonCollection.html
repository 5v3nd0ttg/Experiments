<!doctype html><head><title>Ion Collection Demo</title></head><body>
<script type='text/javascript' src='libs/easel.js'></script>
<script type='text/javascript' src='libs/ion.dev.js'></script>
<script type='text/javascript' src='libs/phaser.dev.js'></script>
<script type='text/javascript' src='libs/ionCollection.dev.js'></script>
<script>
var dayCycle=new Phaser(
	200,
	'dawn',
	[
	    {
			current: {r:  0,g:  0,b:  0},
			dawn:    {r:100,g:135,b:175},
			daytime: {r:235,g:245,b:255},
			dusk:    {r:175,g: 50,b: 75},
			midnight:{r:  0,g:  0,b: 15}
	    },{
			current: {r:  0,g:  0,b:  0},
			dawn:    {r:175,g: 85,b: 50},
			daytime: {r:135,g:165,b:200},
			dusk:    {r:175,g: 85,b: 50},
			midnight:{r:  0,g: 15,b: 35}
	    }
	],
	ctx,
	function(){return [0,0,v.w,v.h];},
	function(){return ctx.createLinearGradient(0,0,0,v.h/5*4);}
);

var scene=new IonCollection();
	scene.make('fire',250,200,100,120,'rgba(250,50,0,0.05)',100);
	scene.make('vortex',-250,-250,400,function(){
		scene.make('laser',-250,-250,-150,250);
	});
	scene.activate();
	scene.clearScene=function(){
		dayCycle.drawNext();
		/* Draw a ground */
		ctx.fillStyle='rgba(10,80,10,0.7)';
		ctx.fillRect(0,v.h/4*3,v.w,v.h/4);
		/* Darken the atmosphere */
		ctx.fillStyle='rgba(0,0,0,0.7)';
		ctx.fillRect(0,0,v.w,v.h);
	};
	scene.doStuff=setInterval(function(){
		if(scene.camera.dx===0){
			scene.camera.x--;
		}else{
			scene.camera.x++;
		} //end if
		if(scene.camera.x<100||scene.camera.x>v.w-500)scene.camera.dx^=1;
	},10);
</script>
</body></html>