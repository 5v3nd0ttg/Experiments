<!doctype html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"><title>Jasmine Unit Tests for Ion</title>
<link rel='shortcut icon' type='image/png' href='libs/jasmine-2.0.3/jasmine_favicon.png'>
<link rel='stylesheet' type='text/css' href='libs/jasmine-2.0.3/jasmine.css'>
<script type='text/javascript' src='libs/jasmine-2.0.3/jasmine.js'></script>
<script type='text/javascript' src='libs/jasmine-2.0.3/jasmine-html.js'></script>
<script type='text/javascript' src='libs/jasmine-2.0.3/boot.js'></script>
<script type='text/javascript' src='libs/ion.dev.js'></script>
<script>
describe('Ion',function(){
	var ion;
	beforeEach(function(){
		ion = new Ion();
	});
	describe('Ensure all properties are present and have default values.',function(){
		it('Has a default value for particle.',function(){
			expect(typeof ion.particle).toEqual('object');
			expect(ion.particle instanceof Array).toBeTruthy();
		});
		it('Has correct value type for clear',function(){
			expect(typeof ion.clear).toEqual('boolean');
		});
		it('Has a default of 1 or greater for quantity',function(){
			expect(typeof ion.quantity).toEqual('number');
			expect(ion.quantity).toBeGreaterThan(0);
		});
		it('Has correct value type for sx',function(){
			expect(typeof ion.sx).toEqual('number');
		});
		it('Has correct value type for sy',function(){
			expect(typeof ion.sy).toEqual('number');
		});
		it('Has correct value type for dx',function(){
			expect(typeof ion.dx).toEqual('number');
		});
		it('Has correct value type for dy',function(){
			expect(typeof ion.dy).toEqual('number');
		});
		it('Has correct value type for wx',function(){
			expect(typeof ion.wx).toEqual('number');
		});
		it('Has correct value type for wy',function(){
			expect(typeof ion.wy).toEqual('number');
		});
		it('Has correct value type for m',function(){
			expect(typeof ion.m).toEqual('number');
		});
		it('Has correct value type for color',function(){
			expect(typeof ion.color).toEqual('string');
			expect(ion.color.length).toBeGreaterThan(3); //#333 or rgb(0,0,0) or rgba(0,0,0,0), etc.
		});
		it('Has correct value type for clearColor',function(){
			expect(typeof ion.clearColor).toEqual('string');
			expect(ion.clearColor.length).toBeGreaterThan(3); //#333 or rgb(0,0,0) or rgba(0,0,0,0), etc.
		});
		it('Has a default of 1 or greater with size',function(){
			expect(typeof ion.size).toEqual('number');
			expect(ion.size).toBeGreaterThan(0);
		});
		it('Has a default value between 0 and 35 for tween_type',function(){
			expect(typeof ion.tween_type).toEqual('number');
			expect(ion.tween_type).toBeGreaterThan(-1);
			expect(ion.tween_type).toBeLessThan(36);
		});
		it('Has correct value type for tween_current and starts at 0',function(){
			expect(typeof ion.tween_current).toEqual('number');
			expect(ion.tween_current).toBe(0);
		});
		it('Has correct value type for tween_duration and should be greater than 0',function(){
			expect(typeof ion.tween_duration).toEqual('number');
			expect(ion.tween_duration).toBeGreaterThan(0);
		});
	});
	describe('Ensure all functions are present',function(){
		it('Contains ease()',function(){
			expect(typeof ion.ease).toEqual('function');
		});
		it('Contains getNew()',function(){
			expect(typeof ion.getNew).toEqual('function');
		});
		it('Contains reset()',function(){
			expect(typeof ion.reset).toEqual('function');
		});
		it('Contains populate()',function(){
			expect(typeof ion.populate).toEqual('function');
		});
		it('Contains wind()',function(){
			expect(typeof ion.wind).toEqual('function');
		});
		it('Contains draw()',function(){
			expect(typeof ion.draw).toEqual('function');
		});
		it('Contains modulate()',function(){
			expect(typeof ion.modulate).toEqual('function');
		});
		it('Contains onCreate()',function(){
			expect(typeof ion.onCreate).toEqual('function');
		});
		it('Contains onEnd()',function(){
			expect(typeof ion.onEnd).toEqual('function');
		});
		it('Contains onEscape()',function(){
			expect(typeof ion.onEscape).toEqual('function');
		});
		it('Contains process()',function(){
			expect(typeof ion.process).toEqual('function');
		});
		it('Contains getFrame()',function(){
			expect(typeof ion.getFrame).toEqual('function');
		});
	});
	describe('Ensure ions populate correctly.',function(){
		var testQuantity=10;
		var ion = new Ion(testQuantity);
		var originalTimeout;
		beforeEach(function(){
			originalTimeout=jasmine.DEFAULT_TIMEOUT_INTERVAL;
			jasmine.DEFAULT_TIMEOUT_INTERVAL=testQuantity*10+5; //should never be x10 the total (10ms / Ion Population)
			ion.populate();
		});
		it('Correct amount of ions were populated',function(done){
			setTimeout(function(){
				expect(ion.particle.length).toEqual(testQuantity);
				done();
			},testQuantity*10);
		});
		afterEach(function(){
			jasmine.DEFAULT_TIMEOUT_INTERVAL = originalTimeout;
		});
	});
});
</script></head><body></body></html>