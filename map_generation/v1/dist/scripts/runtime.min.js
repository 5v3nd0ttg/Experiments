function app(){"use strict";window.map=new Map,window.map.initialize()}var Easel;!function(t){W=window,D=document,M=Math,C=D.createElement("canvas"),ctx=C.getContext("2d"),$=function(t){return D.getElementById(t)},q=function(){C.width=v.w,C.height=v.h},u=function(){ctx=C.getContext("2d")},w=function(){return d=W,b="inner",d.innerWidth||(b="client",d=D.documentElement||D.body),{w:d[b+"Width"],h:d[b+"Height"]}},v=w(),t.background="#000",t.redraw=function(){ctx.fillStyle=t.background,ctx.fillRect(0,0,v.w,v.h)},W.r=function(t,e,n){return t=e?t>e?e+(d=t)-e:t:0*(e=t),n=n||0,e=M.random()*(e-t)+t,n?0|e:e},W.onresize=function(){W.v=w(),q(),t.redraw()},D.body.appendChild(C),d=document.createElement("style"),d.type="text/css",d.rel="stylesheet",d.innerHTML="body{background-color:"+t.background+";overflow:hidden;margin:0;}.canvas{position:absolute;left:0;top:0;width:"+v.w+"px;height:"+v.h+"px;}",D.getElementsByTagName("head")[0].appendChild(d),q()}(Easel||(Easel={})),window.Modernizr=function(t,e,n){function r(t){g.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&g[i]!==n)return"pfx"==e?i:!0}return!1}function c(t,e,r){for(var o in t){var a=e[t[o]];if(a!==n)return r===!1?t[o]:i(a,"function")?a.bind(r||e):a}return!1}function s(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+m.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?a(o,e):(o=(t+" "+C.join(r+" ")+r).split(" "),c(o,e,n))}var u,l,h,f="2.8.3",d={},w=e.documentElement,v="modernizr",p=e.createElement(v),g=p.style,y=({}.toString,"Webkit Moz O ms"),m=y.split(" "),C=y.toLowerCase().split(" "),b={},x=[],E=x.slice,k={}.hasOwnProperty;h=i(k,"undefined")||i(k.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return k.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=E.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,a=e.apply(o,n.concat(E.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(E.call(arguments)))};return r}),b.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},b.borderradius=function(){return s("borderRadius")},b.csstransitions=function(){return s("transition")};for(var M in b)h(b,M)&&(l=M.toLowerCase(),d[l]=b[M](),x.push((d[l]?"":"no-")+l));return d.addTest=function(t,e){if("object"==typeof t)for(var r in t)h(t,r)&&d.addTest(r,t[r]);else{if(t=t.toLowerCase(),d[t]!==n)return d;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(w.className+=" "+(e?"":"no-")+t),d[t]=e}return d},r(""),p=u=null,d._version=f,d._domPrefixes=C,d._cssomPrefixes=m,d.testProp=function(t){return a([t])},d.testAllProps=s,d}(this,this.document);var _createClass=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Sector=function t(e,n){_classCallCheck(this,t),this.x=e,this.y=n,this.wall=r(1)<.25?1:0,this.floor=r(1)<.9?1:0,this.floor||(this.water={cur:100+r(105,0,1),max:100+r(105,0,1),dir:r(2,0,1)})},Map=function(){function t(){_classCallCheck(this,t),this.width=30,this.height=25,this.sector=[]}return _createClass(t,{generate:{value:function(){for(var t=0;t<this.width;t++){this.sector[t]=[];for(var e=0;e<this.height;e++)this.sector[t][e]=new Sector(t,e)}}},draw:{value:function(){for(var t,e=0;e<this.width;e++)for(var n=0;n<this.height;n++)t=this.sector[e][n],t.water?(0===t.water.dir?t.water.cur--:t.water.cur++,(t.water.max-50==t.water.cur||t.water.max+50==t.water.cur)&&(t.water.dir^=1),ctx.fillStyle="rgb(0,0,"+t.water.cur+")"):ctx.fillStyle=t.floor?"#333":"#888",ctx.fillRect(e*v.w/this.width,n*v.h/this.height,v.w/this.width+1,v.h/this.height+1),t.wall&&(ctx.fillStyle="#888",ctx.fillRect(e*v.w/this.width+v.w/this.width*.1,n*v.h/this.height+v.h/this.height*.1,v.w/this.width*.8,v.h/this.height*.8))}},initialize:{value:function(){var t=this;this.generate(),setInterval(function(){t.draw()},16)}}}),t}();